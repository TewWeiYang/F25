<!DOCTYPE html>
<html lang="zh-Hans">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Lucky Draw Casino - ä¹å®«æ ¼æŠ½å¥–</title>

<style>
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background:
    radial-gradient(circle at top, #ffdf8b 0, transparent 55%),
    radial-gradient(circle at bottom, #ff5f6d 0, transparent 60%),
    #050816;
  color: #fff;
}

/* å¤–å±‚èµŒåœºé¢æ¿ */
.casino-frame {
  position: relative;
  padding: 22px;
  border-radius: 26px;
  background: radial-gradient(circle at top, #24132f, #050816 70%);
  box-shadow:
    0 0 40px rgba(0,0,0,0.9),
    0 0 80px rgba(255,215,0,0.25);
}

/* ç¯æ³¡è¾¹æ¡† */
.casino-frame::before {
  content: "";
  position: absolute;
  inset: -10px;
  border-radius: 32px;
  padding: 3px;
  background:
    radial-gradient(circle, #ffd700 0, #ff8c00 40%, transparent 60%);
  mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
  animation: marquee 3s linear infinite;
  opacity: 0.9;
}

@keyframes marquee {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.wrapper {
  position: relative;
  z-index: 1;
  text-align: center;
  min-width: 340px;
}

/* æ ‡é¢˜ */
.title {
  font-size: 26px;
  font-weight: 800;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  margin-bottom: 6px;
  text-shadow:
    0 0 10px rgba(255, 215, 0, 0.9),
    0 0 24px rgba(255, 100, 0, 0.85);
  background: linear-gradient(120deg,#ffe37f,#ffcc00,#ff8a00);
  -webkit-background-clip: text;
  color: transparent;
}

.subtitle {
  font-size: 13px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #ffdca5;
  margin-bottom: 18px;
}

/* ä¹å®«æ ¼ */
.grid {
  width: 330px;
  display: grid;
  grid-template-columns: repeat(3, 110px);
  grid-template-rows: repeat(3, 110px);
  gap: 8px;
  margin-bottom: 18px;
}

.cell {
  position: relative;
  border-radius: 20px;
  font-size: 13px;
  font-weight: 700;
  color: #fef4dd;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 6px;
  text-align: center;
  text-shadow: 0 0 4px rgba(0,0,0,0.6);
  background:
    radial-gradient(circle at 30% 20%, rgba(255,255,255,0.8), transparent 55%),
    radial-gradient(circle at 80% 80%, rgba(255,255,255,0.6), transparent 55%),
    linear-gradient(145deg,#9b5b00,#f9c847,#f79c1b,#7a3b00);
  box-shadow:
    0 5px 0 #5a2e00,
    0 10px 18px rgba(0,0,0,0.6);
  transition: transform 0.15s, box-shadow 0.15s, filter 0.15s, background 0.15s;
}

/* ä¸­é—´æ ¼ï¼šå±•ç¤ºç”¨ï¼Œä¸å‚ä¸è½¬åŠ¨ */
.cell.center {
  background:
    radial-gradient(circle at 30% 20%, rgba(255,255,255,0.8), transparent 55%),
    radial-gradient(circle at 80% 80%, rgba(255,255,255,0.6), transparent 55%),
    linear-gradient(145deg,#45009b,#9f5bff,#ff6ee0,#350050);
  box-shadow:
    0 5px 0 #270056,
    0 10px 18px rgba(0,0,0,0.8);
}

/* é«˜äº®æ ¼å­ï¼ˆæ—‹è½¬ä¸­ï¼‰ */
.cell.active {
  transform: translateY(-4px) scale(1.06);
  box-shadow:
    0 8px 0 #5a2e00,
    0 16px 26px rgba(255, 180, 0, 0.85);
  filter: saturate(1.3);
}
.cell.active::after {
  content: "";
  position: absolute;
  inset: -4px;
  border-radius: 24px;
  border: 3px solid rgba(255,255,255,0.9);
  box-shadow:
    0 0 18px rgba(255,255,255,0.8),
    0 0 30px rgba(255, 200, 0, 1);
  pointer-events: none;
}

/* ä¸­å¥–é—ªçƒæ•ˆæœ */
.cell.win {
  animation: winBlink 0.35s infinite alternate;
}

@keyframes winBlink {
  0% {
    transform: translateY(-3px) scale(1.05);
    background:
      radial-gradient(circle at 30% 20%, rgba(255,255,255,0.9), transparent 55%),
      radial-gradient(circle at 80% 80%, rgba(255,255,255,0.7), transparent 55%),
      linear-gradient(145deg,#ffe57f,#ffce00,#ff8a00,#ff5500);
    box-shadow:
      0 10px 0 #9c5a00,
      0 14px 32px rgba(255, 225, 130, 1);
  }
  100% {
    transform: translateY(-1px) scale(1.02);
    background:
      radial-gradient(circle at 20% 10%, rgba(255,255,255,1), transparent 55%),
      radial-gradient(circle at 80% 90%, rgba(255,255,255,0.9), transparent 55%),
      linear-gradient(145deg,#ffffff,#ffe57f,#ffce00,#ff8a00);
    box-shadow:
      0 6px 0 #7f4900,
      0 16px 42px rgba(255, 255, 255, 1);
  }
}

/* å¤§çš„ SPIN æŒ‰é’® */
.spin-btn {
  margin-top: 4px;
  border: none;
  cursor: pointer;
  padding: 12px 36px;
  border-radius: 999px;
  font-size: 18px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.16em;
  color: #4a2400;
  background:
    radial-gradient(circle at 20% 20%, #fff7da 0, transparent 60%),
    linear-gradient(135deg,#ffe37f,#ffcc00,#ff8a00);
  box-shadow:
    0 6px 0 #b06500,
    0 16px 28px rgba(0,0,0,0.7);
  text-shadow: 0 1px 0 rgba(255,255,255,0.9);
  transition: transform 0.12s, box-shadow 0.12s, filter 0.12s;
}

.spin-btn:hover {
  transform: translateY(-2px);
  box-shadow:
    0 7px 0 #b06500,
    0 20px 32px rgba(255, 180, 0, 0.7);
  filter: saturate(1.2);
}

.spin-btn:active {
  transform: translateY(2px);
  box-shadow:
    0 2px 0 #8a4f00,
    0 10px 18px rgba(0,0,0,0.8);
}

/* çŠ¶æ€æ–‡å­— */
.status {
  margin-top: 10px;
  font-size: 13px;
  color: #ffdca5;
}

/* å°æç¤º */
.hint {
  margin-top: 4px;
  font-size: 11px;
  color: #a889ff;
}
</style>
</head>

<body>
<div class="casino-frame">
  <div class="wrapper">
    <div class="title">LUCKY JACKPOT</div>
    <div class="subtitle">ä¹å®«æ ¼ Â· Casino Lucky Draw</div>

    <div class="grid" id="grid">
      <div class="cell">iPhone 17 Pro Max</div>
      <div class="cell">$100 å¥–é‡‘</div>
      <div class="cell">$50 å¥–é‡‘</div>
      <div class="cell">AirPods Pro</div>
      <div class="cell center">å¹¸è¿è½¬ç›˜<br/>Lucky Spin</div>
      <div class="cell">å’–å•¡åˆ¸</div>
      <div class="cell">æŠ±æ•</div>
      <div class="cell">ç”µå½±ç¥¨</div>
      <div class="cell">è°¢è°¢å‚ä¸</div>
    </div>

    <button class="spin-btn" onclick="startDraw()">SPIN ğŸ¯</button>
    <div class="status" id="statusText">ç‚¹å‡» SPIN å¼€å§‹æŠ½å¥–</div>
    <div class="hint">éŸ³é‡è°ƒå¤§ä¸€ç‚¹ï¼Œæ›´æœ‰èµŒåœºå˜€å˜€å˜€æ°›å›´ï½ ğŸ”Š</div>
  </div>
</div>

<!-- æŠ½å¥–å˜€å˜€å˜€éŸ³æ•ˆï¼ˆæ¯æ ¼è·³åŠ¨ï¼‰ -->
<audio id="tickSound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-simple-click-soft-1122.mp3" type="audio/mpeg">
</audio>

<!-- ä¸­å¥–å®å½“éŸ³æ•ˆ -->
<audio id="winSound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3" type="audio/mpeg">
</audio>

<script>
// é¡ºæ—¶é’ˆç»•ä¸€åœˆï¼ˆä¸åŒ…å«ä¸­é—´æ ¼ index=4ï¼‰
let order = [0, 1, 2, 5, 8, 7, 6, 3];

let current = 0;
let timer = null;
let speed = 80;       // åˆå§‹é€Ÿåº¦ï¼ˆè¶Šå°è¶Šå¿«ï¼‰
let isRunning = false;
let winnerIndex = null;
let minSlowSpeed = 320;  // å¼€å§‹å…è®¸åœä¸‹æ¥çš„æœ€ä½é€Ÿåº¦

function startDraw() {
  if (isRunning) return;

  clearWinEffect();
  isRunning = true;
  speed = 80;
  current = 0;
  minSlowSpeed = 260 + Math.random() * 120; // æ¯æ¬¡ç•¥å¾®ä¸åŒï¼Œè®©æ„Ÿè§‰æ›´éšæœº

  const cells = document.querySelectorAll(".cell");
  // éšæœºä¸€ä¸ªä¸­å¥– indexï¼ˆä¸é€‰ä¸­é—´æ ¼ 4ï¼‰
  winnerIndex = order[Math.floor(Math.random() * order.length)];

  document.getElementById("statusText").textContent = "è½¬åŠ¨ä¸­â€¦ å˜€å˜€å˜€å˜€â€¦";
  run();
}

function run() {
  const cells = document.querySelectorAll(".cell");
  const tick = document.getElementById("tickSound");

  // æ¸…é™¤ä¸Šä¸€ä¸ª active
  cells.forEach(c => c.classList.remove("active"));

  // å½“å‰é«˜äº®
  cells[order[current]].classList.add("active");

  // å˜€å˜€å˜€éŸ³æ•ˆ
  try {
    tick.currentTime = 0;
    tick.play();
  } catch(e) {
    // æœ‰äº›æµè§ˆå™¨æ²¡ç”¨æˆ·äº¤äº’å‰ä¸å…è®¸è‡ªåŠ¨æ’­æ”¾ï¼Œå¯å¿½ç•¥
  }

  current++;
  if (current >= order.length) {
    current = 0;
  }

  // é€æ­¥å‡é€Ÿ
  speed += 18;

  // æ¡ä»¶ï¼š1) é€Ÿåº¦è¿˜æ²¡æ…¢åˆ°å¯åœ 2) è¿˜æ²¡è½¬åˆ°ç›®æ ‡æ ¼å­
  if (speed < minSlowSpeed || order[current] !== winnerIndex) {
    timer = setTimeout(run, speed);
  } else {
    // åœä¸‹æ¥
    isRunning = false;
    showWinner();
  }
}

function showWinner() {
  const cells = document.querySelectorAll(".cell");
  const winCell = cells[winnerIndex];
  winCell.classList.add("win");

  const prizeText = winCell.textContent.trim();
  document.getElementById("statusText").textContent = "ğŸ‰ æ­å–œè·å¾—: " + prizeText;

  const winSound = document.getElementById("winSound");
  try {
    winSound.currentTime = 0;
    winSound.play();
  } catch(e) {}

  alert("ğŸ‰ æ­å–œè·å¾—: " + prizeText);
}

function clearWinEffect() {
  document.querySelectorAll(".cell").forEach(c => {
    c.classList.remove("win", "active");
  });
  document.getElementById("statusText").textContent = "è½¬ç›˜å‡†å¤‡å°±ç»ªï¼Œç‚¹å‡» SPIN æŠ½å¥–";
}
</script>
</body>
</html>
